# База данных бегунов
Данный проект демонстрирует работу 2-х частей: __база данных__(Parts/DB), __прасер__(Parts/Parser)
## Установка и компиляция 
Для работы программы требуются следующие библиотеки: bison и flex. Для сборки используется cmake и make. В дистрибутиве ubuntu установка такова:
```
sudo apt-get install flex bison cmake libboost-all-dev
```
Далее программу нужно собрать. Перейдите в директорию с проектом и выполните:
```
mkdir build && cd build
cmake ..
make
```
## Части(Parts)
### База данных(DB)
В качестве базы данных я использую базу данных бегунов. Для хранения используется формат __CSV__, данные загружаются в память и хранятся в объекте __std::set__, который представляет из себя самобалансирующееся дерево.  Для хранения данных используется объект Runner, с такими полями:
1) Имя(std::string)
2) Фамилия(std::string)
3) Отчество(std::string)
4) Пол(std::string М/Ж)
5) Возраст(int [18, 60])
6) Стартовый номер(int)
7) Город(std::string)
8) Время(int [7800, 21600])

Для генерации примера базы данных написан генератор. Для запуска используйте команду:
```
./generator runners.csv
```
или:
```
./generator runners.csv 1000
```
если хотите задать число записей

### Парсер(Parser)
Парсер выполнен с использованием программ __flex__ и __bison__ и способен распозновать корректные для него скрипты. Скрипт состоит из команд, разделенных точками с запятой. Каждая команда начинается с операции (__select, insert, delete__), далее идут параметры (__name, surname, patronymic, gender, age, number, city, sec__) со своими значениями указанными через "__=__". в конце запроса ставится "__;__" То есть для того, чтобы получить всех бегунов 30 лет, нужно написать:
```
select age = 30;
```
Пробельные символы игнорируются. Для того, чтобы вывести всех, вместо параметров указывается ключевое слово __all__:
```
select all;
```
__Insert__ требует всех параметров, в связи с чем __insert all__; работать не будет. __Delete__ работает аналогично __select__.
```
delete all;
delete age = 30 name = Илья;
```

Для того, чтобы запустить парсер, используйте команду:
```
./parser students.csv test_simple.dbq
```
где test_simple.dbq представляется из скрипт с запросами вроде тех, что фигурируют выше